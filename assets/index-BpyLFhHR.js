import{p as e}from"./phaser-xYC74tLf.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const a={points:0};function n(e,n,r){a.character&&a.character.destroy(),a.character=e.add.image(1160,830,n),a.character.setOrigin(.5,1),a.character.setScale(.5),function(e,n,r){let o=0;e.time.addEvent({callback:()=>{a.character.x-=5,o++,81==o&&function(e,n){!function(e,n){a.dialogBox=e.add.image(790,520,"dialog"),a.dialogBox.setOrigin(.5,1.2),a.dialogBox.setScale(.07,.07),a.dialogText=e.add.text(790,320," ",{fill:"#000000",fontStyle:"italic",align:"left",wordWrap:{width:290},lineSpacing:8}),a.dialogText.setOrigin(.5,1)}(e);const r=e.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);let o=a.dialogText;a.coutnSpace=0,e.input.on("pointerup",(function(){let n="";if(0==a.coutnSpace){a.animatedText.destroy();let n="";n="End"==e.scene.key?"Pulsa otra vez la barra espaciadora para volver a jugar":"A continuación tendrás que responder a 12 preguntas sobre la región. \n \n Click para jugar",t(this.scene,n),a.coutnSpace=1}else n="End"==e.scene.key?"Intro":"Quiz",i(this.scene,n)}),{dialogText:o,scene:e}),r.on("down",(function(){let n="";if(0==a.coutnSpace){a.animatedText.destroy();let i="";"End"==e.scene.key?(i="Pulsa otra vez la barra espaciadora para volver a jugar",n="Start"):(i="A continuación tendrás que responder a 12 preguntas sobre la región. \n \n Click para jugar",n="Quiz"),t(this.scene,i),a.coutnSpace=1}else n="End"==e.scene.key?"Start":"Quiz",i(this.scene,n)}),{dialogText:o,scene:e})}(e)},repeat:80,delay:1})}(e)}function i(e,n){a.dialogText.destroy(),a.dialogBox.destroy(),e.scene.start(n)}function t(e,n){a.dialogText.text="";const i=n.length;let t=0;a.animatedText=e.time.addEvent({callback:()=>{a.dialogText.text+=n[t],++t},repeat:i-1,delay:80})}class r extends e.Scene{constructor(){super("Start")}preload(){this.load.image("bg","assets/backgorund_huerta.jpg"),this.load.image("guide","assets/Girl_Guide.png"),this.load.image("dialog","assets/dialogo.png")}create(){a.background=this.add.image(0,0,"bg"),a.background.setOrigin(0,0),n(this,"guide")}update(){}}function o(e,n){!function(e){a.options||(a.options=[]),a.narrative_background||(a.narrative_background=e.add.graphics(),a.narrative_background.fillStyle(16777215,.8),a.narrative_background.fillRoundedRect(175,50,700,220,20))}(e),a.quiz=e.add.text(190,80,n.quiz,{fontSize:"40px",fill:"#000000",fontStyle:"italic",align:"center",wordWrap:{width:700},lineSpacing:8}),n.answers.forEach(((i,t)=>{let r=e.add.image(220,300+150*t,"contenedor");r.setOrigin(0,0),r.setScale(1,.8),r.setAlpha(.8),r.setInteractive({cursor:"url(assets/Pointer2.cur), pointer"});let d=e.add.text(220,300+150*t,i,{fontSize:"30px",fill:"#000000",fontStyle:"italic",align:"center",wordWrap:{width:500},lineSpacing:4});const c=d.getBounds();d.setX(c.x+25-c.width/20),d.setY(c.y+25-c.height/2),i.length>=29?d.setOrigin(-.1,-.7):d.setOrigin(-.1,-1.5),r.on("pointerover",(function(){d.setColor("#b39c0e"),r.setAlpha(1)}),{quiz_Option:d}),r.on("pointerout",(function(){d.setColor("#000000"),r.setAlpha(.8)}),{quiz_Option:d}),r.on("pointerup",(function(){n.indexanswer-1==t&&(a.points+=1),a.quizes>n.id?(function(){a.quiz&&a.quiz.destroy();for(let e of a.options)e.quiz_background.destroy(),e.quiz_Option.destroy()}(),o(e,s(n.id+1))):(e.scene.start("End"),a.narrative_background.destroy(),a.narrative_background=null)})),a.options.push({quiz_background:r,quiz_Option:d})}))}function s(e){const n=[{id:1,quiz:"¿Qué edificio es la sede de la Presidencia de la Región de Murcia?",answers:["El palacio de San Esteban","La asamblea regional","Delegación del Gobierno"],indexanswer:1},{id:2,quiz:"¿Cuántos municipios tiene la Región de Murcia?",answers:["48","52","45"],indexanswer:3},{id:3,quiz:"¿En qué lugar se encuentra una cruz de tradición cristiana con doble brazo horizontal?",answers:["Monteagudo","Caravaca","Totana"],indexanswer:2},{id:4,quiz:"¿Cómo se llama la patrona de la Región de Murcia?",answers:["Virgen de la Vega","Virgen de la salceda","Virgen de la Fuensanta"],indexanswer:3},{id:5,quiz:"Algunos juegos tradicionales de la huerta de Murcia son...",answers:["La carrera de cintas y la cucaña","Las canicas, caliche y bolos huertanos","Las dos respuestas son correctas"],indexanswer:3},{id:6,quiz:"¿Qué tipo de árboles son los más cultivados en la Región de Murcia?",answers:["Limoneros, perales y ciruelos","Almendros, albaricoqueros, melocotoneros y olivos","Las dos respuestas son correctas"],indexanswer:2},{id:7,quiz:"¿Qué es la zahorra?",answers:["Un tipo de ladrillo","una especie de Zorro de Torre Aguera","Desechos de la construcción"],indexanswer:3},{id:8,quiz:"¿Cómo se llama a la ensaladilla cuando lleva boquerón?",answers:["Marinera","Marinero","Cartagenera"],indexanswer:2},{id:9,quiz:"¿Qué es un cornijal?",answers:["Un dulce típico de Yecla","Una especie de nisperero","La parte interna de una esquina"],indexanswer:3},{id:10,quiz:"¿Qué localidad no tiene nada que envidiar a Río de Janeiro y su cristo?",answers:["Bullas","Carava de la Cruz","Monteagudo"],indexanswer:3}];return a.quizes=n.length,n.find((function(a){if(a.id==e)return a}))}class d extends e.Scene{constructor(){super("Quiz")}preload(){this.load.image("bg","assets/backgorund_huerta.jpg"),this.load.image("dialog","assets/dialogo.png"),this.load.image("contenedor","assets/cuadro_preguntas.png")}create(){a.background=this.add.image(0,0,"bg"),a.background.setOrigin(0,0),o(this,s(1))}}class c extends e.Scene{constructor(){super("End")}preload(){this.load.image("bg","assets/backgorund_huerta.jpg"),this.load.image("guide","assets/Girl_Guide.png"),this.load.image("dialog","assets/dialogo.png"),this.load.image("Limon","assets/limon.png")}create(){a.background=this.add.image(0,0,"bg"),a.background.setOrigin(0,0),function(e){if(a.points>0){const i=e.physics.add.staticGroup();let t=0,r=0,o=0;e.time.addEvent({callback:()=>{console.log(" Este es el i"),o%6==0&&(r+=120,t=0);const s=e.add.sprite(200+120*t,r,"Limon");s.setScale(.2),i.add(s),o++,t++,a.points==o&&n(e,"guide")},repeat:a.points-1,delay:400})}else n(e,"guide")}(this)}update(){}}class l extends e.Scene{constructor(){super("Intro")}preload(){this.load.image("introbg","assets/intro.png")}create(){a.background=this.add.image(0,0,"introbg"),a.background.setOrigin(0,0),this.add.text(180,550,"PULSA PARA COMENZAR A JUGAR",{fontSize:"40PX",fill:"#ffffff",fontStyle:"italic",align:"center",wordWrap:{width:1024},lineSpacing:4}).setInteractive({cursor:"url(assets/Pointer2.cur), pointer"}).on("pointerup",(function(){this.scene.start("Start")}),this)}update(){}}const u={type:e.AUTO,width:1024,height:768,parent:"game-container",backgroundColor:"#028af8",scale:{mode:e.Scale.FIT,autoCenter:e.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{debug:!1}},scene:[l,r,d,c]};new e.Game(u);
